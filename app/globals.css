@import "tailwindcss";

/* =============================================================================
   BASE COLORS & VARIABLES
   ============================================================================= */
:root {
  /* Grayscale palette */
  --color-white: #FFFFFF;
  --color-black: #000000;
  --color-gray-50: #F9FAFB;
  --color-gray-100: #F3F4F6;
  --color-gray-200: #E5E7EB;
  --color-gray-300: #D1D5DB;
  --color-gray-700: #374151;
  --color-gray-900: #111827;

  /* Navy palette (for dark mode) */
  --color-navy-950: #1A1D28;
  --color-navy-900: #232732;
  --color-navy-800: #2A2F3C;
  --color-navy-700: #32374A;
  --color-navy-600: #3F4558;
  --color-navy-500: #4D5366;

  /* Sepia palette (for reading mode) */
  --color-sepia-50: #FAF8F3;
  --color-sepia-100: #F5F1E8;
  --color-sepia-200: #E8DFC9;
  --color-sepia-800: #5C4A3A;
  --color-sepia-900: #3D2F23;

  /* Animation variables */
  --easingOut: cubic-bezier(0.33, 1, 0.68, 1);
  --easingSmooth: cubic-bezier(0.25, 1, 0.5, 1);

  /* Font weights */
  --weight-light: 300;
  --weight-regular: 400;
  --weight-medium: 500;
  --weight-semibold: 600;
  --weight-bold: 700;
  --weight-extrabold: 800;

  /* Shadow system */
  --shadow-sm: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  --shadow-md: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06);
  --shadow-lg: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
  --shadow-xl: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
  --shadow-glow: 0 0 20px rgba(0, 102, 255, 0.3);
  --shadow-glow-hover: 0 0 30px rgba(0, 102, 255, 0.5);

  /* Gradient shadow system */
  --shadow-gradient-blue-purple: 0 8px 32px -4px rgba(99, 102, 241, 0.3), 0 4px 16px -2px rgba(139, 92, 246, 0.2);
  --shadow-gradient-blue-cyan: 0 8px 32px -4px rgba(6, 182, 212, 0.3), 0 4px 16px -2px rgba(59, 130, 246, 0.2);
  --shadow-gradient-purple-pink: 0 8px 32px -4px rgba(168, 85, 247, 0.3), 0 4px 16px -2px rgba(236, 72, 153, 0.2);

  --shadow-gradient-blue-purple-hover: 0 12px 48px -4px rgba(99, 102, 241, 0.4), 0 8px 24px -2px rgba(139, 92, 246, 0.3);
  --shadow-gradient-blue-cyan-hover: 0 12px 48px -4px rgba(6, 182, 212, 0.4), 0 8px 24px -2px rgba(59, 130, 246, 0.3);
  --shadow-gradient-purple-pink-hover: 0 12px 48px -4px rgba(168, 85, 247, 0.4), 0 8px 24px -2px rgba(236, 72, 153, 0.3);
}

/* =============================================================================
   LIGHT MODE THEME (DEFAULT)
   ============================================================================= */
@theme {
  /* Spacing scale (4px base unit) */
  --spacing-1: 4px;
  --spacing-2: 8px;
  --spacing-3: 12px;
  --spacing-4: 16px;
  --spacing-5: 20px;
  --spacing-6: 24px;
  --spacing-8: 32px;
  --spacing-10: 40px;
  --spacing-12: 48px;
  --spacing-16: 64px;
  --spacing-20: 80px;
  --spacing-24: 96px;

  /* Typography */
  --font-sans: var(--font-host), system-ui, sans-serif;
  --font-serif: var(--font-playfair), serif;
  --font-mono: monospace;

  /* Light mode theme colors */
  --page-bg: #FFFFFF;
  --page-bg-gradient: linear-gradient(to bottom, #FFFFFF, #F9FAFB);
  --page-surface: #FFFFFF;
  --page-surface-elevated: #FFFFFF;
  --page-border: var(--color-black);
  --page-text: var(--color-gray-900);
  --page-text-muted: var(--color-gray-700);

  /* Primary accent - Bold blue */
  --color-primary-500: #0066FF;
  --color-primary-600: #0052CC;
  --color-primary-700: #0043A8;
  --color-primary-400: #3B82F6;
  --color-primary-300: #60A5FA;

  --page-primary: var(--color-primary-500);
  --page-primary-hover: var(--color-primary-600);

  /* Gradient definitions */
  --gradient-primary: linear-gradient(135deg, #0066FF, #6366F1);
  --gradient-hero: linear-gradient(135deg, #0066FF 0%, #6366F1 100%);
  --gradient-card: radial-gradient(circle at top right, rgba(0, 102, 255, 0.05), transparent);
  --gradient-border: linear-gradient(135deg, #0066FF, #3B82F6, #6366F1);

  /* Functional colors */
  --page-success: #10B981;
  --page-warning: #F59E0B;
  --page-error: #EF4444;
  --page-code: #EC4899;

  /* Bento card tints (neutral in light mode) */
  --bento-blue: var(--page-surface);
  --bento-purple: var(--page-surface);
  --bento-green: var(--page-surface);
  --bento-yellow: var(--page-surface);
  --bento-orange: var(--page-surface);
  --bento-pink: var(--page-surface);
}

/* =============================================================================
   DARK MODE THEME
   ============================================================================= */
body.dark-mode {
  --page-bg: var(--color-navy-950);
  --page-bg-gradient: linear-gradient(to bottom, #1A1D28, #232732);
  --page-surface: var(--color-navy-900);
  --page-surface-elevated: var(--color-navy-800);
  --page-border: var(--color-navy-600);
  --page-text: #E5E7EB;
  --page-text-muted: #9CA3AF;

  --page-primary: var(--color-primary-400);
  --page-primary-hover: var(--color-primary-300);

  --page-success: #34D399;
  --page-warning: #FBBF24;
  --page-error: #F87171;
  --page-code: #F472B6;

  /* Dark mode gradients */
  --gradient-primary: linear-gradient(135deg, #3B82F6, #8B5CF6);
  --gradient-hero: linear-gradient(135deg, #3B82F6 0%, #8B5CF6 100%);
  --gradient-card: radial-gradient(circle at top right, rgba(59, 130, 246, 0.1), transparent);
  --gradient-border: linear-gradient(135deg, #3B82F6, #6366F1, #8B5CF6);

  /* Dark mode shadows */
  --shadow-glow: 0 0 20px rgba(59, 130, 246, 0.4);
  --shadow-glow-hover: 0 0 30px rgba(59, 130, 246, 0.6);

  --bento-blue: #1E3A5F;
  --bento-purple: #3B2F4A;
  --bento-green: #1F3D2F;
  --bento-yellow: #3D3420;
  --bento-orange: #3D2A1F;
  --bento-pink: #3D2432;
}

/* =============================================================================
   READING MODE THEME
   ============================================================================= */
body.reading-mode {
  --page-bg: var(--color-sepia-50);
  --page-bg-gradient: linear-gradient(to bottom, #FAF8F3, #F5F1E8);
  --page-surface: var(--color-sepia-100);
  --page-surface-elevated: var(--color-white);
  --page-border: var(--color-sepia-800);
  --page-text: var(--color-sepia-900);
  --page-text-muted: var(--color-sepia-800);

  --page-primary: #2563EB;
  --page-primary-hover: #1D4ED8;

  --page-success: #059669;
  --page-warning: #D97706;
  --page-error: #DC2626;
  --page-code: #BE185D;

  /* Reading mode gradients */
  --gradient-primary: linear-gradient(135deg, #2563EB, #7C3AED);
  --gradient-hero: linear-gradient(135deg, #2563EB 0%, #7C3AED 100%);
  --gradient-card: radial-gradient(circle at top right, rgba(37, 99, 235, 0.05), transparent);
  --gradient-border: linear-gradient(135deg, #2563EB, #6366F1, #7C3AED);

  /* Reading mode shadows */
  --shadow-glow: 0 0 20px rgba(37, 99, 235, 0.3);
  --shadow-glow-hover: 0 0 30px rgba(37, 99, 235, 0.5);

  --bento-blue: #DBEAFE;
  --bento-purple: #F3E8FF;
  --bento-green: #D1FAE5;
  --bento-yellow: #FEF3C7;
  --bento-orange: #FFEDD5;
  --bento-pink: #FCE7F3;

  /* Typography optimizations for reading */
  font-size: 18px;
  line-height: 1.7;
  letter-spacing: 0.01em;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

/* Optimal reading width for content */
body.reading-mode main {
  max-width: 65ch;
  margin: 0 auto;
  padding: 60px 40px;
}

/* Enhanced paragraph spacing */
body.reading-mode p {
  margin-bottom: 1.5em;
}

/* Optimized heading typography */
body.reading-mode h1,
body.reading-mode h2,
body.reading-mode h3 {
  line-height: 1.3;
  letter-spacing: -0.02em;
}

body.reading-mode h1 {
  font-size: 2.5em;
  margin-bottom: 0.5em;
}

body.reading-mode h2 {
  font-size: 2em;
  margin-top: 1.5em;
  margin-bottom: 0.75em;
}

body.reading-mode h3 {
  font-size: 1.5em;
  margin-top: 1.25em;
  margin-bottom: 0.5em;
}

/* Increased section spacing for breathing room */
body.reading-mode section + section {
  margin-top: 64px;
}

/* =============================================================================
   BASE STYLES
   ============================================================================= */
body {
  background-color: var(--page-bg);
  color: var(--page-text);
  transition:
    background-color 0.6s var(--easingSmooth),
    color 0.6s var(--easingSmooth),
    border-color 0.6s var(--easingSmooth);
  font-family: var(--font-sans);
  font-size: 16px;
  line-height: 1.5;
  letter-spacing: -0.01em;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
  overflow-x: hidden;
}

html {
  overflow-x: hidden;
}

/* =============================================================================
   UTILITY CLASSES
   ============================================================================= */

/* Font weights */
.font-light { font-weight: var(--weight-light); }
.font-regular { font-weight: var(--weight-regular); }
.font-medium { font-weight: var(--weight-medium); }
.font-semibold { font-weight: var(--weight-semibold); }
.font-bold { font-weight: var(--weight-bold); }
.font-extrabold { font-weight: var(--weight-extrabold); }

/* Bento Grid Container */
.bento-grid {
  display: grid;
  grid-template-columns: repeat(4, 1fr);
  gap: var(--spacing-4);
  width: 100%;
  max-width: 1400px;
  margin: 0 auto;
  padding: var(--spacing-4);
}

@media (min-width: 641px) {
  .bento-grid {
    grid-template-columns: repeat(8, 1fr);
    gap: var(--spacing-5);
    padding: var(--spacing-6);
  }
}

@media (min-width: 1025px) {
  .bento-grid {
    grid-template-columns: repeat(12, 1fr);
    gap: var(--spacing-6);
    padding: var(--spacing-10);
  }
}

@media (min-width: 1441px) {
  .bento-grid {
    gap: var(--spacing-6);
    padding: var(--spacing-20);
  }
}

/* Bento Card Base */
.bento-card {
  border: 1px solid var(--page-border);
  border-radius: 4px;
  padding: var(--spacing-6);
  background: var(--page-surface);
  transition: all 0.3s var(--easingSmooth);
  position: relative;
  box-shadow: var(--shadow-sm);
}

.bento-card:hover {
  border-width: 2px;
  padding: calc(var(--spacing-6) - 1px);
  box-shadow: var(--shadow-lg);
  transform: translateY(-2px);
}

/* Bento Card Tints */
.bento-card.tint-blue { background-color: var(--bento-blue); }
.bento-card.tint-purple { background-color: var(--bento-purple); }
.bento-card.tint-green { background-color: var(--bento-green); }
.bento-card.tint-yellow { background-color: var(--bento-yellow); }
.bento-card.tint-orange { background-color: var(--bento-orange); }
.bento-card.tint-pink { background-color: var(--bento-pink); }

/* Grid Spans */
.span-1 { grid-column: span 1; }
.span-2 { grid-column: span 2; }
.span-3 { grid-column: span 3; }
.span-4 { grid-column: span 4; }
.span-6 { grid-column: span 6; }
.span-8 { grid-column: span 8; }
.span-12 { grid-column: span 12; }

/* Row Spans */
.row-span-1 { grid-row: span 1; }
.row-span-2 { grid-row: span 2; }
.row-span-3 { grid-row: span 3; }

/* Responsive Grid Spans */
@media (max-width: 640px) {
  .span-6, .span-8, .span-12 { grid-column: span 4; }
  .span-3, .span-4 { grid-column: span 2; }
}

@media (min-width: 641px) and (max-width: 1024px) {
  .span-12 { grid-column: span 8; }
  .span-8 { grid-column: span 6; }
  .span-6 { grid-column: span 4; }
}

/* =============================================================================
   GRID OVERLAY (DEVELOPMENT ONLY)
   ============================================================================= */
.grid-overlay {
  position: fixed;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  pointer-events: none;
  z-index: 9999;
  background-image:
    repeating-linear-gradient(
      0deg,
      rgba(0, 102, 255, 0.15) 0px,
      rgba(0, 102, 255, 0.15) 1px,
      transparent 1px,
      transparent 4px
    ),
    repeating-linear-gradient(
      90deg,
      rgba(0, 102, 255, 0.15) 0px,
      rgba(0, 102, 255, 0.15) 1px,
      transparent 1px,
      transparent 4px
    );
}

/* =============================================================================
   TYPOGRAPHY SCALE
   ============================================================================= */
.text-xs { font-size: 12px; line-height: 16px; }
.text-sm { font-size: 14px; line-height: 20px; }
.text-base { font-size: 16px; line-height: 24px; }
.text-lg { font-size: 20px; line-height: 28px; }
.text-xl { font-size: 25px; line-height: 32px; }
.text-2xl { font-size: 31px; line-height: 36px; }
.text-3xl { font-size: 39px; line-height: 44px; }
.text-4xl { font-size: 49px; line-height: 56px; }
.text-5xl { font-size: 61px; line-height: 68px; }

/* =============================================================================
   SHADOW UTILITIES
   ============================================================================= */
.shadow-sm { box-shadow: var(--shadow-sm); }
.shadow-md { box-shadow: var(--shadow-md); }
.shadow-lg { box-shadow: var(--shadow-lg); }
.shadow-xl { box-shadow: var(--shadow-xl); }
.shadow-glow { box-shadow: var(--shadow-glow); }
.shadow-none { box-shadow: none; }

/* =============================================================================
   GRADIENT UTILITIES
   ============================================================================= */
.bg-gradient-primary { background: var(--gradient-primary); }
.bg-gradient-hero { background: var(--gradient-hero); }
.bg-gradient-card { background: var(--gradient-card); }
.bg-gradient-page { background: var(--page-bg-gradient); }

.text-gradient {
  background: var(--gradient-primary);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Gradient border effect */
.border-gradient {
  position: relative;
  border: none;
}

.border-gradient::before {
  content: '';
  position: absolute;
  inset: 0;
  border-radius: 4px;
  padding: 1px;
  background: var(--gradient-border);
  -webkit-mask: linear-gradient(#fff 0 0) content-box, linear-gradient(#fff 0 0);
  -webkit-mask-composite: xor;
  mask-composite: exclude;
  pointer-events: none;
}

/* =============================================================================
   GLASS EFFECT UTILITIES
   ============================================================================= */
.glass-effect {
  background: rgba(255, 255, 255, 0.1);
  backdrop-filter: blur(10px);
  -webkit-backdrop-filter: blur(10px);
}

body.dark-mode .glass-effect {
  background: rgba(35, 39, 50, 0.8);
}

body.reading-mode .glass-effect {
  background: rgba(250, 248, 243, 0.9);
}

/* =============================================================================
   READING MODE ENHANCEMENTS
   ============================================================================= */

/* Hide decorative elements for focus */
body.reading-mode .grid-overlay {
  display: none;
}

/* Disable gradient animations for distraction-free reading */
body.reading-mode .text-gradient-animated {
  animation: none;
  background: var(--page-primary);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}

/* Reduce shadow intensity - minimal shadows only */
body.reading-mode .shadow-gradient-blue-purple,
body.reading-mode .shadow-gradient-blue-cyan,
body.reading-mode .shadow-gradient-purple-pink {
  box-shadow: var(--shadow-sm);
}

/* Simplify header for reading mode */
body.reading-mode header {
  backdrop-filter: blur(8px);
}

body.reading-mode header nav {
  opacity: 0.7;
}

/* Enhanced link styling for readability */
body.reading-mode a {
  color: var(--page-primary);
  text-decoration: underline;
  text-decoration-thickness: 1px;
  text-underline-offset: 3px;
}

body.reading-mode a:hover {
  text-decoration-thickness: 2px;
}

/* Improved list spacing */
body.reading-mode ul,
body.reading-mode ol {
  padding-left: 1.5em;
  margin-bottom: 1.5em;
}

body.reading-mode li {
  margin-bottom: 0.5em;
}

/* Code block optimization */
body.reading-mode pre,
body.reading-mode code {
  font-size: 16px;
  line-height: 1.6;
  background: var(--color-sepia-200);
  border-radius: 4px;
  padding: 2px 6px;
}

body.reading-mode pre {
  padding: 16px;
  overflow-x: auto;
}

/* Simplified transitions for reading focus */
body.reading-mode * {
  transition: color 0.2s ease, background-color 0.2s ease, opacity 0.2s ease;
}

/* =============================================================================
   GRADIENT SHADOW UTILITIES
   ============================================================================= */
.shadow-gradient-blue-purple {
  box-shadow: var(--shadow-gradient-blue-purple);
}

.shadow-gradient-blue-cyan {
  box-shadow: var(--shadow-gradient-blue-cyan);
}

.shadow-gradient-purple-pink {
  box-shadow: var(--shadow-gradient-purple-pink);
}

/* Hover states for gradient shadows */
.shadow-gradient-blue-purple:hover {
  box-shadow: var(--shadow-gradient-blue-purple-hover);
}

.shadow-gradient-blue-cyan:hover {
  box-shadow: var(--shadow-gradient-blue-cyan-hover);
}

.shadow-gradient-purple-pink:hover {
  box-shadow: var(--shadow-gradient-purple-pink-hover);
}

/* =============================================================================
   ANIMATED GRADIENT BORDER
   ============================================================================= */
@keyframes rotate-gradient {
  0% {
    transform: rotate(0deg);
  }
  100% {
    transform: rotate(360deg);
  }
}

.gradient-border-animated {
  position: relative;
  overflow: hidden;
}

.gradient-border-animated::before {
  content: '';
  position: absolute;
  inset: -2px;
  background: conic-gradient(
    from 0deg,
    #6366F1,
    #8B5CF6,
    #EC4899,
    #06B6D4,
    #6366F1
  );
  border-radius: inherit;
  animation: rotate-gradient 6s linear infinite;
  z-index: -2;
}

.gradient-border-animated::after {
  content: '';
  position: absolute;
  inset: 1px;
  background: var(--page-surface);
  border-radius: inherit;
  z-index: -1;
}

body.dark-mode .gradient-border-animated::after {
  background: var(--color-navy-900);
}

body.reading-mode .gradient-border-animated::after {
  background: var(--color-sepia-100);
}

/* =============================================================================
   ANIMATED GRADIENT TEXT
   ============================================================================= */
@keyframes gradient-flow {
  0% {
    background-position: 0% 50%;
  }
  50% {
    background-position: 100% 50%;
  }
  100% {
    background-position: 0% 50%;
  }
}

.text-gradient-animated {
  background: linear-gradient(
    90deg,
    #0066FF,
    #6366F1,
    #8B5CF6,
    #06B6D4,
    #0066FF
  );
  background-size: 200% 200%;
  animation: gradient-flow 6s ease infinite;
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  background-clip: text;
}
